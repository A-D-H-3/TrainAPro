{
    "instance": {
        "name": "asolutionscorpdemo3",
        "url": "https://asolutionscorpdemo3.service-now.com",
        "g_ck": "99b96a8f1b94b5501ddefc851a4bcbc8b68f798b1a8f1d3656731ca9d176f31ce8353ea9"
    },
    "action": "saveWidget",
    "tableName": "sp_widget",
    "name": "TAP Resource Video Card",
    "sys_id": "f2c676c71bd4b5501ddefc851a4bcbe6",
    "widget": {
        "template": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Body HTML template",
            "sys_readonly": false,
            "type": "html_template",
            "mandatory": false,
            "displayValue": "<div class=\"row\">\n    <div class=\"card\">\n        <h4>{{name}}</h4>\n        <div ng-bind-html=\"criteria\"></div>\n        <!-- <button ng-click=\"openAnswer()\">Answer Story</button> -->\n        <button ng-click=\"openAnswer()\" class=\"btn btn-primary\" type=\"submit\" >\n      \t\tAnswer Story\n      </button>\n    </div>\n</div>",
            "readonly": false,
            "hint": "",
            "name": "template",
            "attributes": {},
            "choice": 0,
            "value": "<div class=\"row\">\n    <div class=\"card\">\n        <h4>{{name}}</h4>\n        <div ng-bind-html=\"criteria\"></div>\n        <!-- <button ng-click=\"openAnswer()\">Answer Story</button> -->\n        <button ng-click=\"openAnswer()\" class=\"btn btn-primary\" type=\"submit\" >\n      \t\tAnswer Story\n      </button>\n    </div>\n</div>",
            "max_length": 65000,
            "ed": {
                "name": "template"
            }
        },
        "css": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "CSS",
            "sys_readonly": false,
            "type": "css",
            "mandatory": false,
            "displayValue": "@import url(\"https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&subset=devanagari,latin-ext\");\n\n* {\n // padding: 0;\n // margin: 0;\n  box-sizing: border-box;\n  font-family: \"Poppins\", sans-serif;\n  text-align: center;\n}\n\nbody {\n  background-color: #343a40;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  user-select: none;\n\n}\n\n.card {\n  margin: 20px;\n  //  border-radius: 10px;\n  //filter: drop-shadow(0 5px 10px 0 #ffffff);\n  //width: 400px;\n // height: 180px;\n  background-color: #ffffff;\n  padding: 20px;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n  //transition: 0.6s ease-in;\n  align-items: center;\n  color: black;\n  background-color: white;\n}\n\n/*.card::before {\n  content: \"\";\n  // position: relative;\n  z-index: -1;\n  top: -15px;\n  right: -15px;\n  //background: $brand-primary;\n  height: 220px;\n  width: 25px;\n  border-radius: 32px;\n  transform: scale(1);\n  transform-origin: 50% 50%;\n  transition: transform 0.25s ease-out;\n\n}\n\n.card:hover::before {\n  transition-delay: 0.2s;\n\n  transform: scale(40);\n}\n\n.card:hover {\n\n}*/\n\n//.card p {\n//  padding: 10px 0;\n//}\n",
            "readonly": false,
            "hint": "",
            "name": "css",
            "attributes": {},
            "choice": 0,
            "value": "@import url(\"https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&subset=devanagari,latin-ext\");\n\n* {\n // padding: 0;\n // margin: 0;\n  box-sizing: border-box;\n  font-family: \"Poppins\", sans-serif;\n  text-align: center;\n}\n\nbody {\n  background-color: #343a40;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  user-select: none;\n\n}\n\n.card {\n  margin: 20px;\n  //  border-radius: 10px;\n  //filter: drop-shadow(0 5px 10px 0 #ffffff);\n  //width: 400px;\n // height: 180px;\n  background-color: #ffffff;\n  padding: 20px;\n  position: relative;\n  z-index: 0;\n  overflow: hidden;\n  //transition: 0.6s ease-in;\n  align-items: center;\n  color: black;\n  background-color: white;\n}\n\n/*.card::before {\n  content: \"\";\n  // position: relative;\n  z-index: -1;\n  top: -15px;\n  right: -15px;\n  //background: $brand-primary;\n  height: 220px;\n  width: 25px;\n  border-radius: 32px;\n  transform: scale(1);\n  transform-origin: 50% 50%;\n  transition: transform 0.25s ease-out;\n\n}\n\n.card:hover::before {\n  transition-delay: 0.2s;\n\n  transform: scale(40);\n}\n\n.card:hover {\n\n}*/\n\n//.card p {\n//  padding: 10px 0;\n//}\n",
            "max_length": 8000,
            "ed": {
                "name": "css"
            }
        },
        "roles": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "Roles",
            "sys_readonly": false,
            "type": "user_roles",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "roles",
            "attributes": {
                "no_truncate": "true",
                "update_exempt": "true",
                "record_watcher_blacklist": "true"
            },
            "choice": 0,
            "value": "",
            "max_length": 255,
            "ed": {
                "name": "roles"
            }
        },
        "link": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Link",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "function link(scope, element, attrs, controller) {\r\n  \r\n}",
            "readonly": false,
            "hint": "",
            "name": "link",
            "attributes": {
                "client_script": "true"
            },
            "choice": 0,
            "value": "function link(scope, element, attrs, controller) {\r\n  \r\n}",
            "max_length": 65000,
            "ed": {
                "name": "link"
            }
        },
        "description": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Description",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "Defines what the widget does",
            "name": "description",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "",
            "max_length": 300,
            "ed": {
                "name": "description"
            }
        },
        "demo_data": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Demo data",
            "sys_readonly": false,
            "type": "json",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "demo_data",
            "attributes": {},
            "choice": 0,
            "value": "",
            "max_length": 8000,
            "ed": {
                "name": "demo_data"
            }
        },
        "option_schema": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Option schema",
            "sys_readonly": false,
            "type": "json",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "option_schema",
            "attributes": {},
            "choice": 0,
            "value": "",
            "max_length": 8000,
            "ed": {
                "name": "option_schema"
            }
        },
        "script": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Server script",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "(function() {\r\n  /* populate the 'data' object */\r\n  /* e.g., data.table = $sp.getValue('table'); */\r\n\r\n})();",
            "readonly": false,
            "hint": "",
            "name": "script",
            "attributes": {},
            "choice": 0,
            "value": "(function() {\r\n  /* populate the 'data' object */\r\n  /* e.g., data.table = $sp.getValue('table'); */\r\n\r\n})();",
            "max_length": 65000,
            "ed": {
                "name": "script"
            }
        },
        "has_preview": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -7,
            "label": "Has preview",
            "sys_readonly": false,
            "type": "boolean",
            "mandatory": false,
            "displayValue": "false",
            "readonly": false,
            "hint": "Defines whether preview data is available",
            "name": "has_preview",
            "attributes": {},
            "choice": 0,
            "value": "false",
            "max_length": 40,
            "ed": {
                "name": "has_preview"
            }
        },
        "public": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -7,
            "label": "Public",
            "sys_readonly": false,
            "type": "boolean",
            "mandatory": false,
            "displayValue": "false",
            "readonly": false,
            "hint": "Widget publicly available to unauthenticated users",
            "name": "public",
            "attributes": {
                "update_exempt": "true"
            },
            "choice": 0,
            "value": "false",
            "max_length": 40,
            "ed": {
                "name": "public"
            }
        },
        "docs": {
            "sys_mandatory": false,
            "visible": true,
            "table_attributes": {
                "update_synch": "true",
                "synch_attachments": "true"
            },
            "dbType": 12,
            "label": "Docs",
            "sys_readonly": false,
            "type": "reference",
            "mandatory": false,
            "refTable": "sp_documentation",
            "reference_type": "table",
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "docs",
            "attributes": {
                "encode_utf8": "false"
            },
            "reference_key": "sys_id",
            "readonlyClickthrough": false,
            "choice": 0,
            "value": "",
            "max_length": 32,
            "ed": {
                "reference": "sp_documentation",
                "searchField": "title",
                "defaultOperator": "STARTSWITH",
                "name": "docs"
            }
        },
        "client_script": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": -1,
            "label": "Client controller",
            "sys_readonly": false,
            "type": "script",
            "mandatory": false,
            "displayValue": "api.controller=function($scope, $rootScope, spModal) {\r\n  /* widget controller */\r\n  var c = this;\r\n\r\n\r\n  $rootScope.$on(\"selectedStory\", function (event, args) {\r\n    $scope.name = args.name;\r\n\t\t$scope.strID = args.str_id;\r\n    $scope.criteria = args.criteria;\r\n    if (!args.criteria) {\r\n      $scope.criteria = \"Please select a Story to view the details\";\r\n    } else if (args.criteria == \"\") {\r\n      $scope.criteria = \"No Acceptance Criteria currently for this Story\";\r\n    }\r\n\r\n  });\r\n\r\n  // $scope.criteria = \"Please select a Story to view the details\";\r\n\t\r\n\t$scope.openAnswer = function(){\r\n\t\tspModal.open({\r\n        title: $scope.name,\r\n        footerStyle: { display: \"none\" },\r\n\t\t\t\tsize: \"lg\",\r\n        widget:\"tap_answer_modal\",\r\n        widgetInput:{\r\n          sys_id:$scope.strID,\r\n        }\r\n      }).then(function(){\r\n        console.log(\"Widget Dissmissed\")\r\n      })\r\n\t}\r\n\r\n  $scope.submitAnswer = function() {\r\n    c.data.action = \"submitAnswer\";\r\n    c.server.update().then(function(){\r\n      reloadPage(sys_id, modifiableRecord)\r\n      $scope.$parent.$parent.$dismiss();\r\n      c.data.action = undefined;\r\n      spUtil.addInfoMessage(\"Story Answered\")\r\n    });\r\n  }\r\n};",
            "readonly": false,
            "hint": "",
            "name": "client_script",
            "attributes": {
                "client_script": "true"
            },
            "choice": 0,
            "value": "api.controller=function($scope, $rootScope, spModal) {\n  /* widget controller */\n  var c = this;\n\n\n  /*$rootScope.$on(\"selectedStory\", function (event, args) {\n    $scope.name = args.name;\n\t\t$scope.strID = args.str_id;\n    $scope.criteria = args.criteria;\n    if (!args.criteria) {\n      $scope.criteria = \"Please select a Story to view the details\";\n    } else if (args.criteria == \"\") {\n      $scope.criteria = \"No Acceptance Criteria currently for this Story\";\n    }\n\n  });*/\n\n  // $scope.criteria = \"Please select a Story to view the details\";\n\t\n\t$scope.openAnswer = function(){\n\t\tspModal.open({\n        title: \"Resource Name\",\n        footerStyle: { display: \"none\" },\n\t\t\t\tsize: \"lg\",\n        widget:\"tap_resource_modal\",\n        widgetInput:{\n          //sys_id:$scope.strID,\n          sys_id:$scope.strID,\n        }\n      }).then(function(){\n        console.log(\"Widget Dissmissed\")\n      })\n\t}\n\n  $scope.submitAnswer = function() {\n    c.data.action = \"submitAnswer\";\n    c.server.update().then(function(){\n      reloadPage(sys_id, modifiableRecord)\n      $scope.$parent.$parent.$dismiss();\n      c.data.action = undefined;\n      spUtil.addInfoMessage(\"Story Answered\")\n    });\n  }\n};",
            "max_length": 8000,
            "ed": {
                "name": "client_script"
            }
        },
        "data_table": {
            "sys_mandatory": true,
            "visible": true,
            "dbType": 12,
            "default_value": "sp_instance",
            "label": "Data table",
            "sys_readonly": false,
            "type": "table_name",
            "mandatory": true,
            "displayValue": "sp_instance",
            "readonly": false,
            "hint": "",
            "name": "data_table",
            "attributes": {
                "base_table": "sp_instance",
                "base_start": "true"
            },
            "choice": 0,
            "choices": [],
            "value": "sp_instance",
            "max_length": 80,
            "ed": {
                "name": "data_table"
            }
        },
        "name": {
            "sys_mandatory": true,
            "visible": true,
            "dbType": 12,
            "label": "Name",
            "sys_readonly": false,
            "type": "translated_field",
            "mandatory": true,
            "displayValue": "TAP Resource Video Card",
            "readonly": false,
            "hint": "",
            "name": "name",
            "attributes": {},
            "choice": 0,
            "value": "TAP Resource Video Card",
            "max_length": 40,
            "ed": {
                "name": "name"
            }
        },
        "sys_scope": {
            "sys_mandatory": false,
            "visible": true,
            "table_attributes": {
                "metadata_link_exempt": "true"
            },
            "dbType": 12,
            "label": "Application",
            "sys_readonly": true,
            "type": "reference",
            "mandatory": false,
            "refTable": "sys_app",
            "reference_type": "table",
            "displayValue": "Train-A-Pro",
            "readonly": true,
            "hint": "Application containing this record",
            "name": "sys_scope",
            "attributes": {
                "encode_utf8": "false",
                "list_force_default": "true",
                "readonly_clickthrough": "true",
                "ignore_filter_on_new": "true"
            },
            "reference_key": "sys_id",
            "readonlyClickthrough": true,
            "choice": 0,
            "value": "96b6f27bdb9561107758240a1396190c",
            "max_length": 32,
            "ed": {
                "reference": "sys_scope",
                "searchField": "name",
                "defaultOperator": "STARTSWITH",
                "name": "sys_scope"
            }
        },
        "id": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "ID",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "tap_resource_video_card",
            "readonly": false,
            "hint": "Identifier for $sp.embedWidget()",
            "name": "id",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "tap_resource_video_card",
            "max_length": 40,
            "ed": {
                "name": "id"
            }
        },
        "field_list": {
            "sys_mandatory": false,
            "visible": true,
            "dependentField": "data_table",
            "dbType": -1,
            "label": "Fields",
            "sys_readonly": false,
            "type": "field_list",
            "mandatory": false,
            "displayValue": "",
            "readonly": false,
            "hint": "",
            "name": "field_list",
            "attributes": {
                "is_multi_text": "false"
            },
            "choice": 0,
            "value": "",
            "max_length": 1000,
            "ed": {
                "dependent_value": "sp_instance",
                "name": "field_list"
            }
        },
        "controller_as": {
            "sys_mandatory": false,
            "visible": true,
            "dbType": 12,
            "label": "controllerAs",
            "sys_readonly": false,
            "type": "string",
            "mandatory": false,
            "displayValue": "c",
            "readonly": false,
            "hint": "Identifier name for a reference to the controller in the directive's scope",
            "name": "controller_as",
            "attributes": {
                "edge_encryption_enabled": "true"
            },
            "choice": 0,
            "value": "c",
            "max_length": 100,
            "ed": {
                "name": "controller_as"
            }
        }
    }
}